{"version":3,"file":"index.modern.mjs","sources":["../src/components/Input.js","../src/components/EditIcon.js","../src/propTypes.js","../src/EditText.js","../src/components/Textarea.js","../src/EditTextarea.js"],"sourcesContent":["import classnames from 'classnames';\nimport React from 'react';\nimport styles from '../styles.module.css';\n\nconst Input = ({\n  props: { id, inline, style, type, name },\n  inputRef,\n  handleBlur,\n  handleKeydown,\n  handleFocus,\n  inputClassName,\n  ...rest\n}) => {\n  return (\n    <input\n      id={id}\n      className={classnames(styles.shared, inputClassName, {\n        [styles.inline]: inline\n      })}\n      style={style}\n      ref={inputRef}\n      type={type}\n      name={name}\n      onBlur={handleBlur}\n      onKeyDown={handleKeydown}\n      autoFocus\n      onFocus={handleFocus}\n      {...rest}\n    />\n  );\n};\n\nexport default Input;\n","import React from 'react';\n\nconst EditIcon = () => {\n  return (\n    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'>\n      <path d='M421.7 220.3L188.5 453.4L154.6 419.5L158.1 416H112C103.2 416 96 408.8 96 400V353.9L92.51 357.4C87.78 362.2 84.31 368 82.42 374.4L59.44 452.6L137.6 429.6C143.1 427.7 149.8 424.2 154.6 419.5L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03 504.1C.8198 498.8-1.502 489.7 .976 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3zM492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32C387.7-5.678 428.3-5.678 453.3 19.32L492.7 58.75z' />\n    </svg>\n  );\n};\n\nexport default EditIcon;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport EditIcon from './components/EditIcon';\n\nconst sharedDefaultProps = {\n  id: undefined,\n  name: undefined,\n  className: undefined,\n  value: undefined,\n  formatDisplayText: (x) => x,\n  defaultValue: undefined,\n  placeholder: '',\n  onSave: () => {},\n  onChange: () => {},\n  onEditMode: () => {},\n  onBlur: () => {},\n  style: {},\n  readonly: false,\n  inputClassName: undefined\n};\n\nconst sharedPropTypes = {\n  id: PropTypes.string,\n  name: PropTypes.string,\n  className: PropTypes.string,\n  value: PropTypes.string,\n  formatDisplayText: PropTypes.func,\n  defaultValue: PropTypes.string,\n  placeholder: PropTypes.string,\n  onSave: PropTypes.func,\n  onChange: PropTypes.func,\n  onEditMode: PropTypes.func,\n  onBlur: PropTypes.func,\n  style: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  readonly: PropTypes.bool,\n  inputClassName: PropTypes.string\n};\n\nexport const EditTextPropTypes = {\n  ...sharedPropTypes,\n  type: PropTypes.string,\n  inline: PropTypes.bool,\n  showEditButton: PropTypes.bool,\n  editButtonContent: PropTypes.any,\n  editButtonProps: PropTypes.object\n};\n\nexport const EditTextDefaultProps = {\n  ...sharedDefaultProps,\n  type: 'text',\n  inline: false,\n  showEditButton: false,\n  editButtonContent: <EditIcon />,\n  editButtonProps: {}\n};\n\nexport const EditTextareaPropTypes = {\n  ...sharedPropTypes,\n  rows: PropTypes.number\n};\n\nexport const EditTextareaDefaultProps = {\n  ...sharedDefaultProps,\n  rows: 3\n};\n","import classnames from 'classnames';\nimport React from 'react';\nimport Input from './components/Input';\nimport { EditTextDefaultProps, EditTextPropTypes } from './propTypes';\nimport styles from './styles.module.css';\n\nexport default function EditText({\n  id,\n  name,\n  className,\n  placeholder,\n  inline,\n  style,\n  readonly,\n  type,\n  value,\n  defaultValue,\n  formatDisplayText,\n  onEditMode,\n  onChange,\n  onSave,\n  onBlur,\n  showEditButton,\n  editButtonContent,\n  editButtonProps,\n  inputClassName\n}) {\n  const inputRef = React.useRef(null);\n  const [changeEvent, setChangeEvent] = React.useState({});\n  const [previousValue, setPreviousValue] = React.useState('');\n  const [savedText, setSavedText] = React.useState('');\n  const [editMode, setEditMode] = React.useState(false);\n\n  React.useEffect(() => {\n    if (defaultValue !== undefined) {\n      setPreviousValue(defaultValue);\n      setSavedText(defaultValue);\n    }\n  }, [defaultValue]);\n\n  React.useEffect(() => {\n    if (value !== undefined) {\n      setSavedText(value);\n      if (!editMode) {\n        setPreviousValue(value);\n      }\n    }\n  }, [value, editMode]);\n\n  const handleClickDisplay = () => {\n    if (readonly || showEditButton) return;\n    setEditMode(true);\n    onEditMode();\n  };\n\n  const handleClickEditButton = () => {\n    setEditMode(true);\n    onEditMode();\n  };\n\n  const handleBlur = (save = true) => {\n    if (inputRef.current) {\n      const { name: inputName, value: inputValue } = inputRef.current;\n      if (save && previousValue !== inputValue) {\n        onSave({\n          name: inputName,\n          value: inputValue,\n          previousValue: previousValue\n        });\n        setSavedText(inputValue);\n        setPreviousValue(inputValue);\n      } else if (!save) {\n        onChange({\n          ...changeEvent,\n          target: changeEvent.target\n            ? { ...changeEvent.target, value: previousValue }\n            : { value: previousValue }\n        });\n      }\n      setEditMode(false);\n      onBlur();\n    }\n  };\n\n  const handleKeydown = (e) => {\n    if (e.keyCode === 13 || e.charCode === 13) {\n      handleBlur();\n    } else if (e.keyCode === 27 || e.charCode === 27) {\n      handleBlur(false);\n    }\n  };\n\n  const handleFocus = (e) => {\n    if (type === 'text') {\n      e.currentTarget.setSelectionRange(\n        e.currentTarget.value.length,\n        e.currentTarget.value.length\n      );\n    }\n  };\n\n  const renderDisplayMode = () => {\n    return (\n      <div\n        className={classnames(styles.displayContainer, {\n          [styles.inline]: inline\n        })}\n      >\n        <div\n          id={id}\n          className={classnames(\n            styles.label,\n            styles.shared,\n            {\n              [styles.placeholder]: placeholder && !savedText,\n              [styles.inline]: inline,\n              [styles.readonly]: readonly || showEditButton\n            },\n            className\n          )}\n          onClick={handleClickDisplay}\n          style={style}\n          aria-label='display component'\n        >\n          {formatDisplayText(savedText) || placeholder}\n        </div>\n        {showEditButton && !readonly && (\n          <button\n            type='button'\n            className={styles.editButton}\n            {...editButtonProps}\n            onClick={handleClickEditButton}\n          >\n            {editButtonContent}\n          </button>\n        )}\n      </div>\n    );\n  };\n\n  const renderEditMode = (controlled) => {\n    const sharedProps = {\n      inputRef: inputRef,\n      handleBlur: handleBlur,\n      handleKeydown: handleKeydown,\n      handleFocus: handleFocus,\n      props: { id, inline, style, type, name },\n      ['aria-label']: 'input component'\n    };\n    return controlled ? (\n      <Input\n        {...sharedProps}\n        value={value}\n        onChange={(e) => {\n          setChangeEvent(e);\n          onChange(e);\n        }}\n        inputClassName={inputClassName}\n      />\n    ) : (\n      <Input\n        {...sharedProps}\n        defaultValue={savedText}\n        inputClassName={inputClassName}\n      />\n    );\n  };\n\n  return !readonly && editMode\n    ? renderEditMode(value !== undefined && onChange !== undefined)\n    : renderDisplayMode();\n}\n\nEditText.defaultProps = EditTextDefaultProps;\nEditText.propTypes = EditTextPropTypes;\n","import classnames from 'classnames';\nimport React from 'react';\nimport styles from '../styles.module.css';\n\nconst Textarea = ({\n  props: { id, rows, style, name },\n  inputRef,\n  handleBlur,\n  handleKeydown,\n  inputClassName,\n  ...rest\n}) => {\n  return (\n    <textarea\n      id={id}\n      className={classnames(styles.shared, inputClassName)}\n      style={style}\n      ref={inputRef}\n      rows={rows}\n      name={name}\n      onBlur={handleBlur}\n      onKeyDown={handleKeydown}\n      autoFocus\n      onFocus={(e) =>\n        e.currentTarget.setSelectionRange(\n          e.currentTarget.value.length,\n          e.currentTarget.value.length\n        )\n      }\n      {...rest}\n    />\n  );\n};\n\nexport default Textarea;\n","import classnames from 'classnames';\nimport React from 'react';\nimport Textarea from './components/Textarea';\nimport { EditTextareaDefaultProps, EditTextareaPropTypes } from './propTypes';\nimport styles from './styles.module.css';\n\nconst splitLines = (val) => (val ? val.split(/\\r?\\n/) : []);\n\nexport default function EditTextarea({\n  id,\n  rows,\n  name,\n  className,\n  placeholder,\n  style,\n  readonly,\n  value,\n  defaultValue,\n  formatDisplayText,\n  onEditMode,\n  onChange,\n  onSave,\n  onBlur,\n  inputClassName\n}) {\n  const inputRef = React.useRef(null);\n  const [changeEvent, setChangeEvent] = React.useState({});\n  const [previousValue, setPreviousValue] = React.useState('');\n  const [savedText, setSavedText] = React.useState('');\n  const [editMode, setEditMode] = React.useState(false);\n\n  React.useEffect(() => {\n    if (defaultValue !== undefined) {\n      setPreviousValue(defaultValue);\n      setSavedText(defaultValue);\n    }\n  }, [defaultValue]);\n\n  React.useEffect(() => {\n    if (value !== undefined) {\n      setSavedText(value);\n      if (!editMode) {\n        setPreviousValue(value);\n      }\n    }\n  }, [value, editMode]);\n\n  const handleClick = () => {\n    if (readonly) return;\n    setEditMode(true);\n    onEditMode();\n  };\n\n  const handleBlur = (save = true) => {\n    if (inputRef.current) {\n      const { name: inputName, value: inputValue } = inputRef.current;\n      if (save && previousValue !== inputValue) {\n        onSave({\n          name: inputName,\n          value: inputValue,\n          previousValue: previousValue\n        });\n        setSavedText(inputValue);\n        setPreviousValue(inputValue);\n      } else if (!save) {\n        onChange({\n          ...changeEvent,\n          target: changeEvent.target\n            ? { ...changeEvent.target, value: previousValue }\n            : { value: previousValue }\n        });\n      }\n      setEditMode(false);\n      onBlur();\n    }\n  };\n\n  const handleKeydown = (e) => {\n    if (e.keyCode === 27 || e.charCode === 27) {\n      handleBlur(false);\n    }\n  };\n\n  const renderDisplayMode = () => {\n    const textLines = splitLines(formatDisplayText(savedText));\n    return (\n      <div\n        id={id}\n        className={classnames(\n          styles.shared,\n          styles.textareaView,\n          {\n            [styles.placeholder]: placeholder && !savedText,\n            [styles.readonly]: readonly\n          },\n          className\n        )}\n        onClick={handleClick}\n        style={{\n          ...style,\n          height: `${rows * 24 + 16}px`\n        }}\n        aria-label='display component'\n      >\n        {textLines.length > 0 ? (\n          textLines.map((text, index) => (\n            <React.Fragment key={index}>\n              <span>{text}</span>\n              <br />\n            </React.Fragment>\n          ))\n        ) : (\n          <span>{placeholder}</span>\n        )}\n      </div>\n    );\n  };\n\n  const renderEditMode = (controlled) => {\n    const sharedProps = {\n      inputRef: inputRef,\n      handleBlur: handleBlur,\n      handleKeydown: handleKeydown,\n      props: { id, rows, style, name },\n      ['aria-label']: 'textarea component'\n    };\n    return controlled ? (\n      <Textarea\n        {...sharedProps}\n        value={value}\n        onChange={(e) => {\n          setChangeEvent(e);\n          onChange(e);\n        }}\n        inputClassName={inputClassName}\n      />\n    ) : (\n      <Textarea\n        {...sharedProps}\n        defaultValue={savedText}\n        inputClassName={inputClassName}\n      />\n    );\n  };\n\n  return !readonly && editMode\n    ? renderEditMode(value !== undefined && onChange !== undefined)\n    : renderDisplayMode();\n}\n\nEditTextarea.defaultProps = EditTextareaDefaultProps;\nEditTextarea.propTypes = EditTextareaPropTypes;\n"],"names":["Input","props","id","inline","style","type","name","inputRef","handleBlur","handleKeydown","handleFocus","inputClassName","rest","_excluded","_jsx","classnames","styles","shared","EditIcon","sharedDefaultProps","undefined","className","value","formatDisplayText","x","defaultValue","placeholder","onSave","onChange","onEditMode","onBlur","readonly","sharedPropTypes","PropTypes","string","func","oneOfType","object","array","bool","EditTextPropTypes","showEditButton","editButtonContent","any","editButtonProps","EditTextDefaultProps","EditTextareaPropTypes","rows","number","EditTextareaDefaultProps","EditText","React","useRef","changeEvent","setChangeEvent","useState","previousValue","setPreviousValue","savedText","setSavedText","editMode","setEditMode","useEffect","handleClickDisplay","handleClickEditButton","save","current","inputName","inputValue","target","e","keyCode","charCode","currentTarget","setSelectionRange","length","renderDisplayMode","_jsxs","displayContainer","label","editButton","renderEditMode","controlled","sharedProps","defaultProps","propTypes","Textarea","splitLines","val","split","EditTextarea","handleClick","textLines","textareaView","height","map","text","index"],"mappings":"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"}